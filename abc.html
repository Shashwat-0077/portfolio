<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Growing Shrinking Div Animation</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            height: 500px;
            position: relative;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            backdrop-filter: blur(10px);
            margin-bottom: 20px;
        }

        .animated-div {
            width: 80px;
            height: 20px;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            position: absolute;
            left: 50%;
            top: 50px;
            transform: translateX(-50%);
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            transform-origin: top center;
            transition: all 0.1s ease-out;
        }

        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 12px 24px;
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(78, 205, 196, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(78, 205, 196, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .info {
            margin-top: 20px;
            text-align: center;
            color: white;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="animated-div" id="animatedDiv"></div>
    </div>

    <div class="controls">
        <button onclick="startAnimation()">Start Animation</button>
        <button onclick="resetDiv()">Reset</button>
        <button onclick="pauseAnimation()">Pause/Resume</button>
        <button onclick="changeSpeed()">Change Speed</button>
    </div>

    <div class="info">
        <p>Click "Start Animation" to see the div grow from top, shrink from bottom, and move downward!</p>
        <p id="status">Status: Ready</p>
    </div>

    <script>
        let animationId;
        let isAnimating = false;
        let isPaused = false;
        let currentHeight = 20;
        let currentTop = 50;
        let growthPhase = true;
        let speed = 2;
        let maxHeight = 200;
        let containerHeight = 500;

        const div = document.getElementById('animatedDiv');
        const statusElement = document.getElementById('status');

        function updateDiv() {
            div.style.height = currentHeight + 'px';
            div.style.top = currentTop + 'px';
        }

        function animate() {
            if (!isPaused) {
                if (growthPhase) {
                    // Growing phase - grows from top, moves down
                    currentHeight += speed;
                    currentTop += speed * 0.5; // Move down slower than growth

                    // Check if reached maximum height or near bottom
                    if (currentHeight >= maxHeight || currentTop + currentHeight >= containerHeight - 50) {
                        growthPhase = false;
                        statusElement.textContent = 'Status: Shrinking phase';
                    }
                } else {
                    // Shrinking phase - shrinks from bottom, continues moving down
                    currentHeight -= speed;
                    currentTop += speed * 0.3; // Continue moving down

                    // Check if shrunk completely or reached bottom
                    if (currentHeight <= 10 || currentTop >= containerHeight - 30) {
                        stopAnimation();
                        statusElement.textContent = 'Status: Animation complete';
                        return;
                    }
                }

                updateDiv();
            }

            if (isAnimating) {
                animationId = requestAnimationFrame(animate);
            }
        }

        function startAnimation() {
            if (!isAnimating) {
                isAnimating = true;
                isPaused = false;
                growthPhase = true;
                statusElement.textContent = 'Status: Growing phase';
                animate();
            }
        }

        function stopAnimation() {
            isAnimating = false;
            isPaused = false;
            if (animationId) {
                cancelAnimationFrame(animationId);
            }
        }

        function resetDiv() {
            stopAnimation();
            currentHeight = 20;
            currentTop = 50;
            growthPhase = true;
            updateDiv();
            statusElement.textContent = 'Status: Reset complete';
        }

        function pauseAnimation() {
            if (isAnimating) {
                isPaused = !isPaused;
                statusElement.textContent = isPaused ? 'Status: Paused' : 'Status: Resumed';
                if (!isPaused) {
                    animate();
                }
            }
        }

        function changeSpeed() {
            speed = speed === 2 ? 4 : speed === 4 ? 1 : 2;
            statusElement.textContent = `Status: Speed changed to ${speed}x`;
        }

        // Initialize
        updateDiv();

        // Auto-start animation after 1 second for demonstration
        setTimeout(() => {
            startAnimation();
        }, 1000);
    </script>
</body>

</html>